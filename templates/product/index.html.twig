{% extends 'base.html.twig' %}

{% block title %}Mes produits{% endblock %}

{% block body %}

          <!-- Jumbotron Header -->
    <header class="jumbotron my-4">
        <h1 class="display-3">Mes produits</h1>
        <p class="lead">Lorem ipsum dolor sit amet, consectetur adipisicing elit. Ipsa, ipsam, eligendi, in quo sunt possimus non incidunt odit vero aliquid similique quaerat nam nobis illo aspernatur vitae fugiat numquam repellat.</p>
        <a href="{{ path('add_product') }}" class="btn btn-primary btn-lg">Ajouter un produit</a>
        <!-- on appelle le pdt à ajouter par son chemin : path...  -->
    </header>

    <!-- Page Features -->
    <div class="row text-center">
        {% for product in products %}     <!-- Boucle pr aff. ts pdts -->   
        <div class="col-lg-3 col-md-6 mb-4">
          <div class="card">
            <img class="card-img-top" src="{{ asset(product.image)}}" alt=""> <!-- on a viré url : http://placehold.it/500x325 -->
            <div class="card-body">
              <h4 class="card-title">{{ product.title }}</h4>
              <p class="card-text">{{ product.description }}
            </div>
            <div class="card-footer">
                <a class="btn btn-primary" href="{{ path('edit_product', {'id' : product.id}) }}">modifier</a>
                <a class="btn btn-danger" href="{{ path('delete_product', {'id' : product.id}) }}">supprimer</a>
            </div>
          </div>
        </div>    
        {% endfor %}
    </div>
    <!-- /.row -->

    
     <!-- PAGINATION cf goog : add style pagerfanta -->    
     <div class="pagination justify-content-center"> <!-- ou d-flex justify.... -->
        {% if products.haveToPaginate %} 
        {{ pagerfanta(products, 'twitter_bootstrap4', {'routeName' : 'product_paginated'}) }}
        {% endif %}
     </div>
    
{% endblock %}
